<ng-container *ngIf="(user$ | async).user as user">
  <div class="flex-between base-profile">
    <mat-list class="w-100">
      <mat-list-item>
        <div class="flex-between mb-1 w-100 fs-normal">
          <div mat-line class="fw-bold">نام کاربری</div>
          <div>
            {{ user.username }}
          </div>
        </div>
      </mat-list-item>
      <mat-list-item>
        <a
          routerLink="../account"
          mat-mini-fab
          class="pos-abs t-0"
          style="right: 50px;"
        >
          <mat-icon class="fa fa-edit"></mat-icon>
        </a>
        <div class="flex-between mb-1 w-100 fs-normal">
          <div mat-line class="fw-bold">ایمیل</div>
          <div>
            {{ user.email }}
          </div>
        </div>
      </mat-list-item>
      <mat-list-item>
        <div class="flex-between mb-1 w-100 fs-normal">
          <div mat-line class="text-persian fw-bold">تاریخ عضویت</div>
          <div>{{ user.createdAt | persianDate }}</div>
        </div>
      </mat-list-item>
    </mat-list>
    <div class="d-flex flex-dir-col align-center mr-2">
      <button
        *ngIf="user.avatar"
        (click)="onRemovePhoto('avatar')"
        mat-mini-fab
        style="top: 1rem;"
        color="warn"
      >
        <mat-icon>clear</mat-icon>
      </button>
      <img
        class="avatar"
        [src]="user.avatar || './../../../../assets/avatar.png'"
        alt="تصویر پروفایل"
      />
      <button color="accent" mat-stroked-button class="mt-2">
        انتخاب تصویر
        <!-- (change)="onChangeImage($event)" -->
        <input
          (change)="onChangeAvatar($event)"
          class="input-upload"
          type="file"
        />
      </button>
    </div>
  </div>
  <mat-list>
    <div mat-subheader></div>
    <mat-list-item>
      <div mat-line class="text-persian fw-bold">
        درباره (اختیاری)
      </div>
      <mat-form-field mat-line style="width: 70%;">
        <textarea
          class="no-scroll"
          [maxLength]="150"
          cdkTextareaAutosize
          #textArea
          matInput
        ></textarea>
      </mat-form-field>
    </mat-list-item>
  </mat-list>
  <mat-divider class="mt-3"></mat-divider>
  <mat-list>
    <div mat-subheader>پیشرفته</div>
    <mat-list-item class="h-auto">
      <div class="w-100">
        <div mat-line class="text-persian fw-bold mb-1">
          بنر
        </div>
        <div class="d-flex flex-dir-col align-center mr-2 mb-1">
          <button
            *ngIf="user.banner"
            (click)="onRemovePhoto('banner')"
            mat-mini-fab
            class="pos-abs l-0"
            style="top: 1rem;"
            color="warn"
          >
            <mat-icon>clear</mat-icon>
          </button>

          <img
            class="banner"
            [src]="user.banner || './../../../../assets/banner.png'"
            alt="تصویر پروفایل"
          />
          <button color="accent" mat-stroked-button class="mt-2">
            انتخاب بنر
            <input
              (change)="onChangeBanner($event)"
              class="input-upload"
              type="file"
            />
          </button>
        </div>
      </div>
    </mat-list-item>
  </mat-list>
</ng-container>
